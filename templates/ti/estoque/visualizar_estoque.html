{%extends 'ti.html'%}
{%load static%}
{% block 'caminho' %}
<li class="breadcrumb-item" aria-current="page">Estoque</li>
<li class="breadcrumb-item active" aria-current="page">Adicionar estoque</li>
{%endblock%}

{%block 'main'%}
<h3>Informações principais</h3>
{%endblock%}


{%block 'submain'%}
<h4>Estoques recentes:</h4>
<table class="table table-hover table-bordered table-striped" id="tabela_estoque">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Produto</th>
            <th scope="col">Em estoque:</th>
            <th scope="col">Estoque minimo:</th>
            <th scope="col">Data:</th>
            <th>Edição</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">
                001
            </th>
            <td>
                Tinta preta blala
            </td>
            <td>
                <p>10 / un</p>
            </td>
            <td>
                <p>5 / un</p>
            </td>
            <td>
                <p>30/07/2024</p>
            </td>
            <td class="editar" data-bs-toggle="modal" data-bs-target="#edicao_produto" onclick="editLanc('{{i.id}}')">
                <div class="btn-icon" style="background-color: skyblue;"><img src="{% static 'icons/pencil.svg'%}"
                        alt="edit"></div>
            </td>
        </tr>
        <tr>
            <th scope="row">
                002
            </th>
            <td>
                Tinta preta blala
            </td>
            <td>
                <p>10 / un</p>
            </td>
            <td>
                <p>5 / un</p>
            </td>
            <td>
                <p>30/07/2024</p>
            </td>
            <td class="editar" data-bs-toggle="modal" data-bs-target="#edicao_produto" onclick="editLanc('{{i.id}}')">
                <div class="btn-icon" style="background-color: skyblue;"><img src="{% static 'icons/pencil.svg'%}"
                        alt="edit"></div>
            </td>
        </tr>
    </tbody>
</table>
{%endblock%}
{% block "script" %}
<script>
    let table = new DataTable('#tabela_estoque', {
            fixedColumns: true,
            paging: false,
            language: {
                url: '{% static "language.json"%}'
            },
        });
    function format(d) {
        // `d` is the original data object for the row
        return (
        '<table class="table table-hover table-bordered table-striped" cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">' +
        '<tr>' +
            '<td>Nome Completo:</td>' +
            '<td>' + '</td>' +
        '</tr>' +
        '<tr>' +
            '<td>Número de Extensão:</td>' +
            '<td>' + '</td>' +
        '</tr>' +
        '<tr>' +
            '<td>Informações Extras:</td>' +
            '<td>Detalhes adicionais aqui...</td>' +
        '</tr>' +
        '</table>'
    );
    }
    table.on('dblclick', 'tr', function (e) {
        let tr = e.target.closest('tr');
        let row = table.row(tr);
     
        if (row.child.isShown()) {
            // This row is already open - close it
            row.child.hide();
        }
        else {
            // Open this row
            row.child(format(row.data())).show();
            
        }
    });
</script>
{% endblock %}